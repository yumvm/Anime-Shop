# Anime Shop

## Описание
В проект была успешно внедрена серверная аутентификация с использованием JWT-токенов и bcrypt для хеширования паролей.

## Основные изменения

### 1. Серверная аутентификация
- Добавлена регистрация с хешированием паролей
- Добавлен вход с проверкой паролей
- Реализована система JWT-токенов для аутентификации
- Созданы защищенные маршруты для профиля и других функций

### 2. Защищенные маршруты
- `/api/users/:id` - получение профиля пользователя
- `/api/users/:id` - обновление профиля пользователя
- `/api/orders` - создание заказа
- `/api/orders/:userId` - получение заказов пользователя
- `/api/cart/:userId` - получение и обновление корзины
- `/api/favs/:userId` - получение и обновление избранного
- `/api/compare/:userId` - получение и обновление сравнения

### 3. Клиентские изменения
- Обновлены API-вызовы для использования токенов
- Обновлен компонент входа/регистрации
- Обновлен компонент профиля
- Обновлен компонент заголовка для проверки аутентификации

### 4. Безопасность
- Пароли теперь хешируются с использованием bcrypt
- Доступ к защищенным маршрутам проверяется через JWT-токены
- Реализована проверка соответствия пользователя и запрашиваемых данных

## Использование

### Запуск проекта
```bash
npm run dev:all
```

Это запустит и сервер, и клиентскую часть одновременно.

## Особенности реализации
- Токены хранятся в localStorage клиента
- Валидация токенов происходит на сервере
- Данные пользователей хранятся в JSON-файлах (data/users.json)
- Все пароли хешируются перед сохранением
- Пользователь может получить/обновить только свои данные

# Планы на будущее
- Реализовать роли администратора, менеждера, продавца
- Подключить Jivochat
- Перенести данные в sql server
- Сделать нормальный дизайн
- .....
